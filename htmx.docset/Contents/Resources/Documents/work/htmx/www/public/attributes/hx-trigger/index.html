<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="htmx gives you access to AJAX, CSS Transitions, WebSockets and Server Sent Events directly in HTML, using attributes, so you can build modern user interfaces with the simplicity and power of hypertext

    htmx is small (~14k min.gz&rsquo;d), dependency-free, extendable, IE11 compatible &amp; has reduced code base sizes by 67% when compared with react"/>
    
  <title>&lt;/&gt; htmx ~ hx-trigger Attribute</title>
    <link rel="canonical" href="https://htmx.org/attributes/hx-trigger/"/>
    
    <link rel="alternate" type="application/atom+xml" title="Sitewide Atom feed" href="atom.xml"/>
    <link rel="stylesheet" href="css/site.css"/><link rel="stylesheet" href="../css/site.css"/><link rel="stylesheet" href="../../css/site.css"/>
    <!--script src="/js/htmx.js"></script -->
    <!--script src="/js/class-tools.js"></script -->
    <!--script src="/js/preload.js"></script -->
    <!--script src="/js/_hyperscript.js"></script -->
    <meta name="generator" content="Zola v.TODO"/>
</head>
<body hx-ext="class-tools, preload">

<div class="top-nav">
    <div class="c">
        <div class="menu">
            <div class="logo-wrapper">
                <a href="" class="logo light">&lt;<b>/</b>&gt; htm<b>x</b></a>
                <svg _="on click toggle .show on #nav" class="hamburger" viewBox="0 0 100 80" width="25" height="25" style="margin-bottom:-5px">
                    <rect width="100" height="20" style="fill:rgb(52, 101, 164)" rx="10"></rect>
                    <rect y="30" width="100" height="20" style="fill:rgb(52, 101, 164)" rx="10"></rect>
                    <rect y="60" width="100" height="20" style="fill:rgb(52, 101, 164)" rx="10"></rect>
                </svg>
            </div>
            
            <div id="nav" class="navigation" hx-boost="true">
            
                <div class="navigation-items" preload="mouseover">
                    <div><a href="docs/">docs</a></div>
                    <div><a href="reference/">reference</a></div>
                    <div><a href="examples/">examples</a></div>
                    <div><a href="talk/">talk</a></div>
                    <div><a href="essays/">essays</a></div>
                    <div hx-disable="">
                        <form action="https://google.com/search">
                            <input type="hidden" name="q" value="site:htmx.org"/>
                            <label>
                                <span style="display:none;">Search</span>
                                <input type="text" name="q" placeholder="🔍️" class="search-box"/>
                            </label>
                        </form>
                    </div>
                </div>
                <div class="github-stars">
                    <iframe style="margin:auto;" src="https://ghbtns.com/github-btn.html?user=bigskysoftware&amp;repo=htmx&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="150" height="20" title="Star htmx on GitHub"></iframe>
                </div>
            </div>
        </div>
    </div>
</div>


    


<div class="c content ">
    
  <h1><a class="dashingAutolink" name="autolink-34"></a><a class="dashAnchor" name="//apple_ref/cpp/Attribute/hx-trigger"></a><code>hx-trigger</code></h1>
  <p>The <code>hx-trigger</code> attribute allows you to specify what triggers an AJAX request.  A trigger
value can be one of the following:</p>
<ul>
<li>An event name (e.g. &ldquo;click&rdquo; or &ldquo;my-custom-event&rdquo;) followed by an event filter and a set of event modifiers</li>
<li>A polling definition of the form <code>every &lt;timing declaration&gt;</code></li>
<li>A comma-separated list of such events</li>
</ul>
<h3 id="standard-events">Standard Events</h3>
<p>A standard event, such as <code>click</code> can be specified as the trigger like so:</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/clicked&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;click&#34;</span><span>&gt;Click Me&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<h4 id="standard-event-filters">Standard Event Filters</h4>
<p>Events can be filtered by enclosing a boolean javascript expression in square brackets after the event name.  If
this expression evaluates to <code>true</code> the event will be triggered, otherwise it will be ignored.</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/clicked&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;click[ctrlKey]&#34;</span><span>&gt;Control Click Me&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>This event will trigger if a click event is triggered with the <code>event.ctrlKey</code> property set to true.</p>
<p>Conditions can also refer to global functions or state</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/clicked&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;click[checkGlobalState()]&#34;</span><span>&gt;Control Click Me&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>And can also be combined using the standard javascript syntax</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/clicked&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;click[ctrlKey&amp;&amp;shiftKey]&#34;</span><span>&gt;Control-Shift Click Me&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>Note that all symbols used in the expression will be resolved first against the triggering event, and then next
against the global namespace, so <code>myEvent[foo]</code> will first look for a property named <code>foo</code> on the event, then look
for a global symbol with the name <code>foo</code></p>
<h4 id="standard-event-modifiers">Standard Event Modifiers</h4>
<p>Standard events can also have modifiers that change how they behave.  The modifiers are:</p>
<ul>
<li><code>once</code> - the event will only trigger once (e.g. the first click)</li>
<li><code>changed</code> - the event will only change if the value of the element has changed. Please pay attention <code>change</code> is the name of the event and <code>changed</code> is the name of the modifier.</li>
<li><code>delay:&lt;timing declaration&gt;</code> - a delay will occur before an event triggers a request.  If the event
is seen again it will reset the delay.</li>
<li><code>throttle:&lt;timing declaration&gt;</code> - a throttle will occur after an event triggers a request. If the event
is seen again before the delay completes, it is ignored, the element will trigger at the end of the delay.</li>
<li><code>from:&lt;Extended CSS selector&gt;</code> - allows the event that triggers a request to come from another element in the document (e.g. listening to a key event on the body, to support hot keys)
<ul>
<li>A standard CSS selector resolves to all elements matching that selector. Thus, <code>from:input</code> would listen on every input on the page.</li>
<li>The extended CSS selector here allows for the following non-standard CSS values:
<ul>
<li><code>document</code> - listen for events on the document</li>
<li><code>window</code> - listen for events on the window</li>
<li><code>closest &lt;CSS selector&gt;</code> - finds the <a rel="noopener" target="_blank" href="https://developer.mozilla.org/docs/Web/API/Element/closest">closest</a> ancestor element or itself, matching the given css selector</li>
<li><code>find &lt;CSS selector&gt;</code> - finds the closest child matching the given css selector</li>
<li><code>next</code> resolves to <a rel="noopener" target="_blank" href="https://developer.mozilla.org/docs/Web/API/Element/nextElementSibling">element.nextElementSibling</a></li>
<li><code>next &lt;CSS selector&gt;</code> scans the DOM forward for the first element that matches the given CSS selector.
(e.g. <code>next .error</code> will target the closest following sibling element with <code>error</code> class)</li>
<li><code>previous</code> resolves to <a rel="noopener" target="_blank" href="https://developer.mozilla.org/docs/Web/API/Element/previousElementSibling">element.previousElementSibling</a></li>
<li><code>previous &lt;CSS selector&gt;</code> scans the DOM backwards for the first element that matches the given CSS selector.
(e.g <code>previous .error</code> will target the closest previous sibling with <code>error</code> class)</li>
</ul>
</li>
</ul>
</li>
<li><code>target:&lt;CSS selector&gt;</code> - allows you to filter via a CSS selector on the target of the event.  This can be useful when you want to listen for
triggers from elements that might not be in the DOM at the point of initialization, by, for example, listening on the body,
but with a target filter for a child element</li>
<li><code>consume</code> - if this option is included the event will not trigger any other htmx requests on parents (or on elements
listening on parents)</li>
<li><code>queue:&lt;queue option&gt;</code> - determines how events are queued if an event occurs while a request for another event is in flight.  Options are:
<ul>
<li><code>first</code> - queue the first event</li>
<li><code>last</code> - queue the last event (default)</li>
<li><code>all</code> - queue all events (issue a request for each event)</li>
<li><code>none</code> - do not queue new events</li>
</ul>
</li>
</ul>
<p>Here is an example of a search box that searches on <code>keyup</code>, but only if the search value has changed
and the user hasn&rsquo;t typed anything new for 1 second:</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">input </span><span style="color:#d19a66;">name</span><span>=</span><span style="color:#98c379;">&#34;q&#34;
</span><span>       </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/search&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;keyup changed delay:1s&#34;
</span><span>       </span><span style="color:#d19a66;">hx-target</span><span>=</span><span style="color:#98c379;">&#34;#search-results&#34;</span><span>/&gt;
</span></code></pre>
<p>The response from the <code>/search</code> url will be appended to the <code>div</code> with the id <code>search-results</code>.</p>
<h3 id="non-standard-events">Non-standard Events</h3>
<p>There are some additional non-standard events that htmx supports:</p>
<ul>
<li><code>load</code> - triggered on load (useful for lazy-loading something)</li>
<li><code>revealed</code> - triggered when an element is scrolled into the viewport (also useful for lazy-loading). If you are using <code>overflow</code> in css like <code>overflow-y: scroll</code> you should use <code>intersect once</code> instead of <code>revealed</code>.</li>
<li><code>intersect</code> - fires once when an element first intersects the viewport.  This supports two additional options:
<ul>
<li><code>root:&lt;selector&gt;</code> - a CSS selector of the root element for intersection</li>
<li><code>threshold:&lt;float&gt;</code> - a floating point number between 0.0 and 1.0, indicating what amount of intersection to fire the event on</li>
</ul>
</li>
</ul>
<h3 id="triggering-via-the-hx-trigger-header">Triggering via the <code>HX-Trigger</code> header</h3>
<p>If you&rsquo;re trying to fire an event from <code>HX-Trigger</code> response  header, you will likely want to
use the <code>from:body</code> modifier.  E.g. if you send a header like this <code>HX-Trigger: my-custom-event</code>
with a response, an element would likely need to look like this:</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>  &lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/example&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;my-custom-event from:body&#34;</span><span>&gt;
</span><span>    Triggered by HX-Trigger header...
</span><span>  &lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>in order to fire.</p>
<p>This is because the header will likely trigger the event in a different DOM hierarchy than the element that you
wish to be triggered.  For a similar reason, you will often listen for hot keys from the body.</p>
<h3 id="polling">Polling</h3>
<p>By using the syntax <code>every &lt;timing declaration&gt;</code> you can have an element poll periodically:</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/latest_updates&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;every 1s&#34;</span><span>&gt;
</span><span>  Nothing Yet!
</span><span>&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>This example will issue a <code>GET</code> to the <code>/latest_updates</code> URL every second and swap the results into
the innerHTML of this div.</p>
<p>If you want to add a filter to polling, it should be added <em>after</em> the poll declaration:</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>&lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/latest_updates&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;every 1s [someConditional]&#34;</span><span>&gt;
</span><span>  Nothing Yet!
</span><span>&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<h3 id="multiple-triggers">Multiple Triggers</h3>
<p>Multiple triggers can be provided, separated by commas.  Each trigger gets its own options.</p>
<pre data-lang="html" style="background-color:#1f2329;color:#abb2bf;" class="language-html "><code class="language-html" data-lang="html"><span>  &lt;</span><span style="color:#e06c75;">div </span><span style="color:#d19a66;">hx-get</span><span>=</span><span style="color:#98c379;">&#34;/news&#34; </span><span style="color:#d19a66;">hx-trigger</span><span>=</span><span style="color:#98c379;">&#34;load, click delay:1s&#34;</span><span>&gt;&lt;/</span><span style="color:#e06c75;">div</span><span>&gt;
</span></code></pre>
<p>This example will load <code>/news</code> immediately on page load, and then again with a delay of one second after each click.</p>
<h3 id="via-javascript">Via JavaScript</h3>
<p>The AJAX request can be triggered via JavaScript <a href="https://htmx.org/api/#trigger"><code>htmx.trigger()</code></a>, too.</p>
<h2 id="notes">Notes</h2>
<ul>
<li><code>hx-trigger</code> is not inherited</li>
<li><code>hx-trigger</code> can be used without an AJAX request, in which case it will only fire the <code>htmx:trigger</code> event</li>
<li>In order to pass a CSS selector that contains whitespace (e.g. <code>form input</code>) to the <code>from</code>- or <code>target</code>-modifier, surround the selector in parentheses or curly brackets (e.g. <code>from:(form input)</code> or <code>from:nearest (form input)</code>)</li>
</ul>

</div>

<footer>
    <div class="c content ">
        <div class="row">
            <div class="6 col footer-haiku">
                <h2>haiku</h2>
                <p><em>
                    javascript fatigue:<br/>
                    longing for a hypertext<br/>
                    already in hand
                </em></p>
            </div>
            <div class="6 col footer-menu">
                <div><a href="docs/">docs</a></div>
                <div><a href="reference/">reference</a></div>
                <div><a href="examples/">examples</a></div>
                <div><a href="talk/">talk</a></div>
                <div><a href="essays/">essays</a></div>
                <div><a href="https://twitter.com/htmx_org">@htmx_org</a></div>
            </div>
        </div>
        <div class="row" style="text-align: center;">
            <div class="col">
                <img src="img/bss_bars.png" alt="" style="max-width: 30px; margin-top: 3em;"/>
            </div>
        </div>
    </div>
</footer>



</body></html>